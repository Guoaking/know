

# 单一职责
 可拓展性强
 故障隔离, 服务的整体可靠性更高

服务宕机, 对方怎么办
 网络异常 -> 消息可达性
 流量突增, 服务无法及时处理


1. 函数映射
2. 数据转换字节流
3. 网络传输

概念模型

分层设计

1. 编解码
   1. 语言格式
   2. 文本格式
   3. 二进制编码

稳定性
* 熔断, 保护调用方, 防止被调用的服务出现问题, 二影响到整个链路
* 限流, 保护被调用方, 防止大流量把服务压垮
* 超时控制: 避免浪费资源在不可用节点上

请求成功率: 负载均衡, 重试
长尾请求: ptc99-> 响应耗时 网络抖动,
    * 备份请求

容易用性
扩展性
高性能
* 高吞吐
* 低延迟*

场景
* 单机多机
* 不同大小包
* 不同请求类型
* 单链接, 多链接
* 单/多clinet, 单/多server

手段
* 链接池
* 多路复用
* 高性能编解码协议
* 高性能网络库

整体架构
core
自研网络库
go/net 链接池 存在失效链接
链接利用率低下
扩展性设计

性能优化
合并部署
### TLV Tag Length Value
2. 协议层
3. 网络通信层

